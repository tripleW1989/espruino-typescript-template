"use strict";function t(t){return t&&typeof t==="object"&&"default"in t?t["default"]:t}var e=t(require("http"));var n=t(require("Wifi"));var o=function(){function t(){console.log("start http server ing");this.startUp()}t.prototype.pageRequest=function(t,e){var n=url.parse(t.url,true);e.writeHead(200);e.end(n)};t.prototype.startUp=function(){e.createServer(this.pageRequest).listen(3e3)};return t}();var r=function(){function t(e){var n=e.name,o=e.password,r=e.callback,s=e.APCallback;this.isConnect=false;this.connect(n,o,r,s);t.startAp()}t.prototype.connect=function(e,o,r,s){var i=this;if(e===void 0){e="ChinaNet-Eqis"}if(o===void 0){o="2xhhnwws"}n.connect(e,{password:o},(function(e){if(!e){console.log("wifi connect success");i.isConnect=true;t.startAp(s);r&&r()}else{console.log("wifi connect fail",e)}}))};t.startAp=function(t){n.startAP("EspruinoAP",{password:"12345678",authMode:"wpa2"},(function(e){console.log("startAP success!");if(e){console.log("err",e)}t&&t();n.getAPIP((function(t,e){console.log("Connected!");console.log("err",t);console.log("ip",e)}))}))};return t}();var s=function(){function t(){var t=this;this.startUp=function(){t.wifi=new r({callback:function(){t.httpServer=new o}})};console.log("server start");r.startAp((function(){t.httpServer=new o}))}return t}();new s;
